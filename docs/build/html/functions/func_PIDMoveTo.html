

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PIDMoveTo &mdash; Team E3&#39;s Robot 0.8.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/cropped-egg3.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="allStop" href="func_allStop.html" />
    <link rel="prev" title="InvPercent" href="func_InvPercent.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Team E3's Robot
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../mainFile.html">Main File</a></li>
</ul>
<p class="caption"><span class="caption-text">PID Deep Dive</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PIDdeepDive.html">PID Deep Dive</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../PIDdeepDive.html#motivation">Motivation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../PIDdeepDive.html#derivation">Derivation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../PIDdeepDive.html#kinematic-relationships">Kinematic Relationships</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PIDdeepDive.html#control-laws">Control Laws</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../PIDdeepDive.html#implementation">Implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../PIDdeepDive.html#trajectory-profiles">Trajectory profiles</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Performance tasks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../perfTasks/index.html">Performance Tasks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../perfTasks/perf_1.html">Performance Task 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../perfTasks/perf_1.html#code">Code</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Function reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Functions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="func_InvPercent.html">InvPercent</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">PIDMoveTo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#working-example">Working Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variables">Variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="func_allStop.html">allStop</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_correctHeading.html">correctHeading</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_countsToRadDisp.html">countsToRadDisp</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_forward12.html">forward12</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_forward23.html">forward23</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_forward31.html">forward31</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_getCdsColor.html">getCdsColor</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_rotateCC.html">rotateCC</a></li>
<li class="toctree-l2"><a class="reference internal" href="func_sinkDump.html">sinkDump</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">MATLab code</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mat_trajGen.html">Trajectory Profile Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mat_errPlot.html">Error Plotting</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Team E3's Robot</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Functions</a> &raquo;</li>
        
      <li>PIDMoveTo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/functions/func_PIDMoveTo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pidmoveto">
<h1>PIDMoveTo<a class="headerlink" href="#pidmoveto" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="_CPPv49PIDMoveToPcib">
<span id="_CPPv39PIDMoveToPcib"></span><span id="_CPPv29PIDMoveToPcib"></span><span id="PIDMoveTo__cP.i.b"></span><span class="target" id="main_8cpp_1a5df7032b6ea536922700cc132d3d2702"></span>void <code class="sig-name descname">PIDMoveTo</code><span class="sig-paren">(</span>char *<em>fName</em>, int <em>size</em>, bool <em>preload</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49PIDMoveToPcib" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><p>This is some funky non-xml compliant text: &lt;&amp; !&gt;&lt;</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This reStructuredText has been handled correctly.</p>
</div>
 <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">test</span><span class="p">()</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">test</span> <span class="n">code</span>
<span class="p">}</span>
</pre></div>
</div>
 Uses a PI controller to move the robot using a trajectory profile as the reference data. The passed in trajectory profile should have 6 columns. The first 3 are the total angular displacements(rad) of motors 1, 2, and 3 repsectively, with the last 3 being the respective angular velocities(rad/s). Right now, delta time is 0.1 seconds. The loop each iteration will calculate difference in encoder counts to convert it into displacement in radians using countsToRadDisp. This will then be added to the total angular displacement for each motor, and these calculated values will be subracted with the reference angular displacements to get the error for each motor. These errors are then summed to the motors individual total error counter, and based on the error values and P &amp; I constants, angular velocities(rad/s) to set the motors to is calculated. Then the funtion setRadSToPercent is called to convert the angular speeds to percent and limit them within operating range, and then set the motors to that percent.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fName</span></code>: the file name of trajectory profile. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code>: the number of lines/commands in trajectory profile. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">preload</span></code>: If true, the file will be preloaded and won’t start until the start light turns on. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<div class="section" id="working-example">
<h2>Working Example<a class="headerlink" href="#working-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c++ notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<hr class="docutils" />
<ul class="simple" id="class-animatedsprite3d-method-play">
<li><p>void <strong>play</strong> <strong>(</strong> <span class="xref std std-ref">String</span> anim=”” <strong>)</strong></p></li>
</ul>
<p>Plays the animation named <code class="docutils literal notranslate"><span class="pre">anim</span></code>. If no <code class="docutils literal notranslate"><span class="pre">anim</span></code> is provided, the current animation is played.</p>
<hr class="docutils" />
<ul class="simple" id="class-animatedsprite3d-method-stop">
<li><p>void <strong>stop</strong> <strong>(</strong> <strong>)</strong></p></li>
</ul>
<p>Stops the current animation (does not reset the frame counter).</p>
</div>
<div class="section" id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><span class="xref std std-ref">bool</span></p></td>
<td><p><span class="xref std std-ref">is_playing</span> <strong>(</strong> <strong>)</strong> const</p></td>
</tr>
<tr class="row-even"><td><p>void</p></td>
<td><p><a class="reference internal" href="#class-animatedsprite3d-method-play"><span class="std std-ref">play</span></a> <strong>(</strong> <span class="xref std std-ref">String</span> anim=”” <strong>)</strong></p></td>
</tr>
<tr class="row-odd"><td><p>void</p></td>
<td><p><a class="reference internal" href="#class-animatedsprite3d-method-stop"><span class="std std-ref">stop</span></a> <strong>(</strong> <strong>)</strong></p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="func_allStop.html" class="btn btn-neutral float-right" title="allStop" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="func_InvPercent.html" class="btn btn-neutral float-left" title="InvPercent" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Jeff Bonner, Alan Chen, Peyton Roth, Zach Salem

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>